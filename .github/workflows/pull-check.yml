# name: pull Checkmarx One

# on:
#   push:
#     branches:
#       - main

# jobs:
#   build:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout ğŸ›ï¸
#         uses: actions/checkout@v4.1.6
#         with:
#           repository: 'Checkmarx/ast-cli'
          
#       - name: Set up QEMU ğŸ—ï¸
#         uses: docker/setup-qemu-action@v3.2.0

#       - name: Set up Docker Buildx ğŸ‹
#         uses: docker/setup-buildx-action@v3.7.1

#       - name: Login to JFrog ğŸ¸  
#         uses: docker/login-action@v3.3.0
#         with:
#           registry: ${{ secrets.JFROG_URL }}
#           username: ${{ secrets.JFROG_USERNAME }}
#           password: ${{ secrets.JFROG_PASSWORD }}

#       - name: à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ cx
#         run: |
#           if [ ! -f ./cx ]; then
#             echo "à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ cx"
#             go build -o ./cx ./cmd
#           fi
#           echo "à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¹„à¸Ÿà¸¥à¹Œ cx:"
#           find . -name "cx" -exec ls -lh {} \;
#           echo "CX_PATH=$(find . -name 'cx' | head -n 1)" >> $GITHUB_ENV
      
#       - name: Build and push ğŸ³
#         id: docker_build
#         uses: docker/build-push-action@v3.2.0
#         with:
#           push: true
#           tags: ${{ secrets.JFROG_URL }}/git-image-checkmarx-docker/ast-cli:latest
#           context: .
#           build-args: |
#             CX_PATH=${{ env.CX_PATH }}

name: pull Checkmarx One

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v4.1.6
        with:
          repository: 'Checkmarx/ast-cli'

      - name: Check File Location ğŸ—ï¸
        run: |
          ls -lh
          
      # - name: Create ZIP of Checkmarx AST CLI ğŸ—œï¸
      #   run: |
      #     zip -r ast-cli.zip ast-cli/
          
      # - name: Upload ZIP to JFrog Artifactory ğŸ™
      #   run: |
      #     curl -ukirashiraishi@gmail.com:${{ secrets.JFROG_PASSWORD }} -T ./ast-cli.zip "https://trial4snq1g.jfrog.io/artifactory/checkmarx-cli-generic-local/ast-cli-latest.zip"
